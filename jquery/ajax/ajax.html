<!DOCTYPE html>
<html>
<head>
<title>ajax</title>
<style type="text/css">
  .loadmore{
    display: block;
    margin: 0 auto;
    padding: 8px 16px;
    background: #009688;
    border-radius: 3px;
    color: #fff;
    cursor: pointer;
  }
  .news-container>ul{
    padding: 0;
    margin: 0;
  }
  .news-container ul>li{
    list-style: none;
    margin: 15px 0;
    border: 1px solid #ccc;
  }
  .news-container ul>li a{
    color: #000;
    text-decoration: none;
  }
  .news-container li:hover a{
    color: #fff;
  }
  .news-container li:hover{
    background: #009688;
  }
</style>
</head>
<body>
<div class="news-container">

</div>
<button class="loadmore" >加载更多</button>

<script src="../jquery-3.2.1.js"></script>
<script>
var pageIndex=0;
  $('.loadmore').on('click',function(){
    $.get('/getNews',{page:pageIndex})
    .done(function(ret){
      if (ret.status===1){
        pageIndex++;
        renderPage(ret.data);
      }else{
        alert("数据请求错误！")
      }
    }).fail(function(){
      alert("系统错误！")
    });
  })

  function renderPage(data){
    var html='';
    if (data.length===0) {
      $('.news-container').append($('<p>没有更多消息了</p>'));
      return;
    }
    $.each(data,function(){
          html='<ul>'+
               '<li><h2><a href="#">'+this.title+'</a></h2>'+
               '<p>'+this.date+'</p>'+'</li>'+
               '</ul>';
                $('.news-container').append(html);
    })
  }
</script>
</body>
</html>